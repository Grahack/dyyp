<!DOCTYPE html>
<html>
<head>
    <meta charset=utf-8>
    <link rel="stylesheet" type="text/css" href="static/lua-web-cli.css">
</head>
<body>
    <h1>DyyP</h1>
    <p>Une bibliothèque Lua autour de la théorie musicale
    (cf <a href="https://github.com/grahack/dyyp">Github</a>).</p>

    <div class="repl">
        <code id="fengari-console"></code>
        <div class="fengari-input-container">
            <label id="fengari-prompt" for="fengari-input">→ </label>
            <textarea class="lua" id="fengari-input" rows="1"
                      placeholder="Exemple de code à taper : A4"></textarea>
        </div>
    </div>

    <p>Quelques remarques :</p>
    <ul>
        <li>utilisez les flêches du haut et du bas pour naviguer dans
            l’historique ;</li>
        <li>ce REPL, contrairement à celui de Lua, ne nécessite pas
            l’utilisation de <code>print</code> pour afficher les valeurs
            entrées ;</li>
        <li><code>Ctrl+L</code> efface la fenêtre des sorties ;</li>
        <li><code>nil</code> signifie « absence de valeur », vous avez donc
            tapé quelque chose que le système n’a pas compris.</li>
    </ul>

    <h2>Constantes</h2>

    <p>Constantes qui correspondent à un nom de note :</p>
    <ul>
        <li>A B C D E F G</li>
        <li>La Si Do Re (sans accent) Mi Fa Sol</li>
        <li>Ab Bb Cb Db Eb Fb Gb, b pour bémol</li>
        <li>Af Bf Cf Df Ef Ff Gf, f pour bémol aussi (flat en anglais)</li>
        <li>As Bs Cs Ds Es Fs Gs, s pour dièse (sharp en anglais)</li>
        <li>Lab Sib Dob Reb Mib Fab Solb, b pour bémol</li>
        <li>Lad Sid Dod Red Mid Fad Sold, d pour dièse</li>
        <li>C2s Do2d Ebb Eff Mibb F2s Fa2d Bbb Bff Sibb,
            les doubles altérations</li>
    </ul>
    <p>Dans l’ordre alphabétique :
       A Ab Af As B Bb Bbb Bf Bff Bs C C2s Cb Cf Cs D Db Df Do Do2d Dob Dod Ds
       E Eb Ebb Ef Eff Es F F2s Fa Fa2d Fab Fad Fb Ff Fs G Gb Gf Gs La Lab Lad
       Mi Mib Mibb Mid Re Reb Red Si Sib Sibb Sid Sol Solb Sold.</p>

    <p>Constantes représentant une note, dont la valeur est le numéro MIDI
       correspondant (l’octave va de 0 à 9, A4 vaut par exemple 69,
       b représente un bémol (notation francophone et anglophone), f et s
       signifient resp. « flat » et « sharp », d signifie « dièse », bb
       ou ff double bémol, 2s ou 2d double dièse) :</p>
    <ul>
        <li>Ab1 Af1 / A1 / As1 -- Lab1 / La1 / Lad1</li>
        <li>Bbb1 Bff1 / Bb1 Bf1 / B1 / Bs1 -- Sibb1 / Sib1 / Si1 / Sid1</li>
        <li>Cb1 Cf1 / C1 / Cs1 / C2s1 -- Dob1 / Do1 / Dod1 / Do2d1</li>
        <li>Db1 Df1 / D1 / Ds1 -- Reb1 / Re1 / Red1</li>
        <li>Ebb1 Eff / Eb1 Ef1 / E1 / Es1 -- Mibb1 / Mib1 / Mi1 / Mid1</li>
        <li>Fb1 Ff1 / F1 / Fs1 / F2s1 -- Fab1 / Fa1 / Fad1 / Fa2d1</li>
        <li>Gb1 Gf1 / G1 / Gs1 -- Solb1 / Sol1 / Sold1</li>
    </ul>

    <h2>Fonctions</h2>

<pre>
MIDI_diff
MIDI_diff(A,  A) =>  0
MIDI_diff(A,  G) =>  2
MIDI_diff(Ab, A) => -1
MIDI_diff(As, A) =>  1
MIDI_diff(B , C) => -1
MIDI_diff(C , B) =>  1
fifth_name
fifth_name(A) => E
fifth_name(G) => D
fourth_name
fourth_name(A) => D
fourth_name(G) => C
name_and_alteration
name_and_alteration(A ) => A, 0
name_and_alteration(Ab) => A, -1
name_and_alteration(As) => A, 1
name_and_alteration(La ) => La, 0
name_and_alteration(Lab) => La, -1
name_and_alteration(Lad) => La, 1
next_name
next_name(A) => B
next_name(G) => A
offset_in_circle
offset_in_circle(1, 7, 1) => 2
offset_in_circle(7, 7, 1) => 1
previous_name
previous_name(A) => G
previous_name(B) => A
second_name
second_name(A) => B
second_name(G) => A
seventh_name
seventh_name(A) => G
seventh_name(B) => A
sixth_name
sixth_name(A) => F
sixth_name(B) => G
third_name
third_name(A) => C
third_name(G) => B
</pre>

    <script src="static/highlight.min.js"></script>
    <script src="static/lua.min.js"></script>
    <script src="static/fengari-web.js" type="text/javascript"></script>
    <script src="static/web-cli.lua" type="application/lua" async></script>
    <script src="dyyp.lua" type="application/lua" async></script>
</body>
</html>
